<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Eco Quiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#34D399",
            },
          },
        },
      };
    </script>
  </head>
 <body class="bg-gray-900 text-white min-h-screen flex items-center justify-center">
   <div class="max-w-xl w-full">
          <div class="absolute top-0 right-0 p-4 text-sm text-gray-300">
        ⏱ Time left: <span id="timer">15</span>s
      </div>
       <div class="mb-6">
        <div class="text-sm mb-1 text-gray-300">
          Question {{ current }} of {{ total }}
        </div>
        <div class="w-full bg-gray-700 h-3 rounded-full overflow-hidden">
          <div
            class="bg-green-500 h-full transition-all duration-500 ease-out"
            style="width: {{ (current / total) * 100 }}%;"
          ></div>
        </div>
      </div>
    <div class="w-full max-w-2xl bg-gray-800 p-8 rounded-2xl shadow-xl">
    <h2 class="text-2xl font-semibold text-primary mb-4"> Question {{ current }} of {{ total }}</h2>
    <form method="post" id="quizForm" class="space-y-6">
    <p class="text-lg font-medium mb-4">{{ question.question }}</p>
    <div class="space-y-2">
      {% for opt in question.options %}
           {% set is_selected = opt == selected %}
      {% set is_correct_opt = opt == correct %}

      <label class="flex items-center space-x-3 
        {% if show_result %}
          {% if is_correct_opt %}
            bg-green-700 
          {% elif is_selected %}
            bg-red-700
          {% endif %}
        {% endif %}
        p-2 rounded-lg transition
        ">       
      <input
      type="radio"
      name="answer"
      value="{{ opt }}"
               {% if is_selected %}checked{% endif %}
          {% if show_result %}disabled{% endif %}
      class="form-radio h-5 w-5 text-primary bg-gray-700 border-gray-600 focus:ring-primary"/> 
                <span class="text-gray-200">{{ opt }}</span>
              </label>
      {% endfor %}
              </div>
{% if show_result %}
    <div class="mt-4 text-lg font-semibold">
      {% if is_correct %}
        ✅ Correct!
      {% else %}
        ❌ Wrong. Correct answer: <span class="text-primary font-bold">{{ correct }}</span>
      {% endif %}
    </div>
  {% endif %}
                    <div class="pt-4">

      <button type="submit" id="submitBtn" class="bg-primary hover:bg-emerald-500 text-white font-semibold py-2 px-6 rounded-lg transition duration-200" {% if show_result %}disabled{% endif %}>Submit</button>
                    </div>
    </form>
    {% if show_result %}
  <form method="post">
    <input type="hidden" name="next" value="1"/>
    <button type="submit" class="btn-next">Next</button>
  </form>
{% endif %}
  </div>

  <script src="/static/quiz.js"></script>
  </body>
</html>
